(function(){"use strict";var o={5143:function(o,t,e){var a=e(5130),l=e(6768),n=e.p+"img/calculadoraIcon.ab170826.png";const r=(0,l.Lk)("img",{alt:"logo",src:n,class:"small-image"},null,-1);function s(o,t,e,a,n,s){const d=(0,l.g2)("Dashboard");return(0,l.uX)(),(0,l.CE)(l.FK,null,[r,(0,l.bF)(d)],64)}var d=e(4232);const i=o=>((0,l.Qi)("data-v-13547764"),o=o(),(0,l.jt)(),o),u={class:"hello"},c=i((()=>(0,l.Lk)("h2",null,"Bem Vindo ao PDV",-1))),p={class:"nav nav-tabs",id:"myTab",role:"tablist"},m={class:"nav-item",role:"presentation"},v={class:"nav-item",role:"presentation"},b={class:"nav-item",role:"presentation"},h={class:"tab-content",id:"myTabContent"},k={key:0,class:"tab-pane fade show active",id:"home-tab-pane",role:"tabpanel",tabindex:"0"},f={key:1,class:"tab-pane fade show active",id:"profile-tab-pane",role:"tabpanel",tabindex:"0"},y={key:2,class:"tab-pane fade show active",id:"profile-tab-pane",role:"tabpanel",tabindex:"0"};function L(o,t,e,a,n,r){const s=(0,l.g2)("ProdutosVue"),i=(0,l.g2)("ListarProdutosVue"),L=(0,l.g2)("VendasVue");return(0,l.uX)(),(0,l.CE)("div",u,[c,(0,l.Lk)("div",null,[(0,l.Lk)("ul",p,[(0,l.Lk)("li",m,[(0,l.Lk)("button",{class:(0,d.C4)(["nav-link",{active:"inserir"===n.activeTab}]),onClick:t[0]||(t[0]=o=>n.activeTab="inserir"),"aria-controls":"home-tab-pane"},"Inserir Produtos",2)]),(0,l.Lk)("li",v,[(0,l.Lk)("button",{class:(0,d.C4)(["nav-link",{active:"lista"===n.activeTab}]),onClick:t[1]||(t[1]=o=>n.activeTab="lista"),"aria-controls":"profile-tab-pane"},"Lista de Produtos",2)]),(0,l.Lk)("li",b,[(0,l.Lk)("button",{class:(0,d.C4)(["nav-link",{active:"venda"===n.activeTab}]),onClick:t[2]||(t[2]=o=>n.activeTab="venda"),"aria-controls":"profile-tab-pane"},"Venda de Produtos",2)])]),(0,l.Lk)("div",h,["inserir"===n.activeTab?((0,l.uX)(),(0,l.CE)("div",k,[(0,l.bF)(s)])):(0,l.Q3)("",!0),"lista"===n.activeTab?((0,l.uX)(),(0,l.CE)("div",f,[(0,l.bF)(i)])):(0,l.Q3)("",!0),"venda"===n.activeTab?((0,l.uX)(),(0,l.CE)("div",y,[(0,l.bF)(L)])):(0,l.Q3)("",!0)])])])}const C={class:"container mt-4"},_={key:0,class:"alert alert-success",role:"alert"},V={key:1,class:"alert alert-success",role:"alert"},g={class:"table"},P=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Nome"),(0,l.Lk)("th",null,"Preço de Custo"),(0,l.Lk)("th",null,"Preço de Venda"),(0,l.Lk)("th",null,"Tipo"),(0,l.Lk)("th")])],-1),E={key:0},S=["onUpdate:modelValue"],T={key:0},X=["onUpdate:modelValue"],I={key:0},w=["onUpdate:modelValue"],x={key:0},A=["onUpdate:modelValue"],U=(0,l.Fv)('<option value="1">Fruta</option><option value="2">Legumes</option><option value="3">Verdura</option><option value="4">Carne</option><option value="5">Laticínios</option><option value="6">Bebidas</option>',6),O=[U],Q={class:"btn-group",role:"group","aria-label":"Opções"},F=["onClick"],j=["onClick"],q=["onClick"];function D(o,t,e,n,r,s){return(0,l.uX)(),(0,l.CE)("div",C,[r.salvoComSucesso?((0,l.uX)(),(0,l.CE)("div",_," Produto salvo com sucesso! ")):(0,l.Q3)("",!0),r.deletadoComSucesso?((0,l.uX)(),(0,l.CE)("div",V," Produto deletado com sucesso! ")):(0,l.Q3)("",!0),(0,l.Lk)("table",g,[P,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.produtos,(o=>((0,l.uX)(),(0,l.CE)("tr",{key:o.id},[(0,l.Lk)("td",null,[o.editando?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:1,"onUpdate:modelValue":t=>o.nomeproduto=t},null,8,S)),[[a.Jo,o.nomeproduto]]):((0,l.uX)(),(0,l.CE)("span",E,(0,d.v_)(o.nomeproduto),1))]),(0,l.Lk)("td",null,[o.editando?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:1,"onUpdate:modelValue":t=>o.preco_custo=t},null,8,X)),[[a.Jo,o.preco_custo]]):((0,l.uX)(),(0,l.CE)("span",T,(0,d.v_)(o.preco_custo),1))]),(0,l.Lk)("td",null,[o.editando?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:1,"onUpdate:modelValue":t=>o.preco_venda=t},null,8,w)),[[a.Jo,o.preco_venda]]):((0,l.uX)(),(0,l.CE)("span",I,(0,d.v_)(o.preco_venda),1))]),(0,l.Lk)("td",null,[o.editando?(0,l.bo)(((0,l.uX)(),(0,l.CE)("select",{key:1,"onUpdate:modelValue":t=>o.tipo_produto_id=t},O,8,A)),[[a.u1,o.tipo_produto_id]]):((0,l.uX)(),(0,l.CE)("span",x,(0,d.v_)(o.nometipoproduto),1))]),(0,l.Lk)("td",null,[(0,l.Lk)("div",Q,[o.editando?((0,l.uX)(),(0,l.CE)("button",{key:1,type:"button",class:"btn btn-success",onClick:t=>s.salvarProduto(o)},"Salvar",8,j)):((0,l.uX)(),(0,l.CE)("button",{key:0,type:"button",class:"btn btn-primary",onClick:t=>o.editando=!0},"Editar",8,F)),(0,l.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t=>s.deletarProduto(o.id_produto)},"Deletar",8,q)])])])))),128))])])])}var J=e(4373),N={data(){return{produtos:[],salvoComSucesso:!1,deletadoComSucesso:!1}},mounted(){this.carregarProdutos()},watch:{salvoComSucesso:function(){this.salvoComSucesso&&(setTimeout((()=>{this.salvoComSucesso=!1}),3e3),this.carregarProdutos())},deletadoComSucesso:function(){this.deletadoComSucesso&&(setTimeout((()=>{this.deletadoComSucesso=!1}),3e3),this.carregarProdutos())}},methods:{async salvarProduto(o){try{const t=o.id_produto,e=await(0,J.A)({method:"put",url:"http://localhost:8080/atualizarProduto/"+t,data:{id:o.id_produto,nome:o.nomeproduto,preco_custo:o.preco_custo,preco_venda:o.preco_venda,tipo_produto_id:Number(o.tipo_produto_id)},headers:{"Content-Type":"application/json"}});o.editando=!0,e.data&&(this.salvoComSucesso=!0),o.editando=!1}catch(t){console.error(t)}},deletarProduto(o){J.A.delete(`http://localhost:8080/deletarProduto/${o}`).then((()=>{this.deletadoComSucesso=!0,this.carregarProdutos()})).catch((o=>{console.log("Erro ao excluir produto"+o)})),this.deletadoComSucesso=!1},carregarProdutos(){J.A.get("http://localhost:8080/listarProdutos").then((o=>{this.produtos=o.data,this.produtos.editando=!1})).catch((o=>{console.log("Erro ao carregar dados do produto"+o)}))}}},K=e(1241);const B=(0,K.A)(N,[["render",D]]);var M=B;const z={class:"container mt-4"},$={class:"form-group centered-form-group"},G=(0,l.Lk)("label",{for:"selectTipoProduto",class:"mr-2"},"Selecione o Tipo de Produto:",-1),H=(0,l.Lk)("option",{disabled:"",selected:""},"Selecione um tipo de produto",-1),R=["value"],W={class:"row mb-3"},Y={class:"col"},Z={class:"row mb-3"},oo={class:"col"},to={class:"col"},eo={class:"row"},ao={class:"col"};function lo(o,t,e,n,r,s){return(0,l.uX)(),(0,l.CE)("div",z,[(0,l.Lk)("div",$,[G,(0,l.bo)((0,l.Lk)("select",{class:"form-control",id:"selectTipoProduto","onUpdate:modelValue":t[0]||(t[0]=o=>r.tipo_produto_id=o)},[H,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.tiposProdutos,(o=>((0,l.uX)(),(0,l.CE)("option",{key:o.id,value:o.id},(0,d.v_)(o.nome),9,R)))),128))],512),[[a.u1,r.tipo_produto_id]])]),(0,l.Lk)("div",W,[(0,l.Lk)("div",Y,[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=o=>r.nome=o),placeholder:"Nome do Produto"},null,512),[[a.Jo,r.nome]])])]),(0,l.Lk)("div",Z,[(0,l.Lk)("div",oo,[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=o=>r.preco_custo=o),placeholder:"Preço de Custo"},null,512),[[a.Jo,r.preco_custo]])]),(0,l.Lk)("div",to,[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=o=>r.preco_venda=o),placeholder:"Preço de Venda"},null,512),[[a.Jo,r.preco_venda]])])]),(0,l.Lk)("div",eo,[(0,l.Lk)("div",ao,[(0,l.Lk)("button",{class:"btn btn-primary",onClick:t[4]||(t[4]=(...o)=>s.sendData&&s.sendData(...o))},"Adicionar")])])])}var no={name:"ProdutosVue",data(){return{nome:"",preco_custo:null,preco_venda:null,tipo_produto_id:null,tiposProdutos:[]}},mounted(){J.A.get("http://localhost:8080/listarTiposDeProdutos").then((o=>{this.tiposProdutos=o.data})).catch((o=>{console.log("Erro ao carregar dados do produto"+o)}))},methods:{async sendData(){try{await(0,J.A)({method:"post",url:"http://localhost:8080/salvarProduto",data:{nome:this.nome,preco_custo:this.preco_custo,preco_venda:this.preco_venda,tipo_produto_id:this.tipo_produto_id},headers:{"Content-Type":"application/json"}})}catch(o){console.error(o)}}}};const ro=(0,K.A)(no,[["render",lo]]);var so=ro;const io={class:"container mt-4"},uo={key:0,class:"alert alert-success",role:"alert"},co={class:"row"},po={class:"form-group centered-form-group"},mo=(0,l.Lk)("label",{for:"selectCidade",class:"mr-2"},"Selecione o Produto:",-1),vo=(0,l.Lk)("option",{disabled:"",selected:""},"Selecione um produto",-1),bo=["value"],ho={class:"col-md-2 mb-3"},ko=(0,l.Lk)("label",null,"Quantidade",-1),fo={class:"col-md-2 mb-3"},yo=(0,l.Lk)("label",{for:"readonlyValor"},"Valor Item:",-1),Lo={type:"text",class:"form-control",id:"readonlyValor",readonly:""},Co={class:"col-md-2 mb-3"},_o=(0,l.Lk)("label",{for:"readonlyValor"},"Imposto:",-1),Vo={type:"text",class:"form-control",id:"readonlyValor",readonly:""},go={class:"col-md-2 mb-3"},Po=(0,l.Lk)("label",{for:"readonlyValor"},"Total:",-1),Eo={type:"text",class:"form-control",id:"readonlyValor",readonly:""},So={class:"col-md-1 mb-2"},To={class:"table"},Xo=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{scope:"col"},"Produto"),(0,l.Lk)("th",{scope:"col"},"Quantidade"),(0,l.Lk)("th",{scope:"col"},"Valor Total com Imposto")])],-1),Io={key:0},wo={key:0},xo={class:"row mb-3"},Ao=(0,l.Lk)("div",{class:"col-md-4 mb-4"},[(0,l.Lk)("label"),(0,l.Lk)("label")],-1),Uo={class:"col-md-4 mb-4"},Oo=(0,l.Lk)("label",{for:"readonlyValor",style:{"font-weight":"bold"}},"Total Valor Imposto:",-1),Qo={type:"text",class:"form-control",id:"readonlyValor",readonly:""},Fo={class:"col-md-4 mb-4"},jo=(0,l.Lk)("label",{for:"readonlyValor",style:{"font-weight":"bold"}},"Total Valor Compra:",-1),qo={type:"text",class:"form-control",id:"readonlyValor",readonly:""},Do={key:1,class:"buttons-container"};function Jo(o,t,e,n,r,s){return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",io,[r.salvoComSucesso?((0,l.uX)(),(0,l.CE)("div",uo," Venda salva com sucesso! ")):(0,l.Q3)("",!0),(0,l.Lk)("div",co,[(0,l.Lk)("div",null,[(0,l.Lk)("div",po,[mo,(0,l.bo)((0,l.Lk)("select",{class:"form-control",id:"selectProduto","onUpdate:modelValue":t[0]||(t[0]=o=>r.produtoSelecionado=o)},[vo,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.produtos,(o=>((0,l.uX)(),(0,l.CE)("option",{key:o.id,value:o},(0,d.v_)(o.nomeproduto+" - "+o.nometipoproduto),9,bo)))),128))],512),[[a.u1,r.produtoSelecionado]])])]),(0,l.Lk)("div",ho,[ko,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r.quantidadeInformada=o),type:"text",class:"form-control","aria-label":"Amount (to the nearest dollar)"},null,512),[[a.Jo,r.quantidadeInformada]])]),(0,l.Lk)("div",fo,[yo,0!==r.total?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:0,type:"hidden","onUpdate:modelValue":t[2]||(t[2]=o=>r.total=o)},null,512)),[[a.Jo,r.total]]):(0,l.Q3)("",!0),(0,l.Lk)("label",Lo,(0,d.v_)(r.valorItem),1)]),(0,l.Lk)("div",Co,[_o,(0,l.Lk)("label",Vo,(0,d.v_)(r.produtoSelecionado.percentual_imposto),1)]),(0,l.Lk)("div",go,[Po,(0,l.Lk)("label",Eo,(0,d.v_)(r.total),1)]),(0,l.Lk)("div",So,[r.total?((0,l.uX)(),(0,l.CE)("button",{key:0,type:"button",style:{"margin-top":"32px"},class:"btn btn-primary",onClick:t[3]||(t[3]=o=>s.adicionarVenda())},"Adicionar")):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",null,[(0,l.Lk)("table",To,[Xo,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.vendas,((o,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:t},[(0,l.Lk)("td",null,(0,d.v_)(o.produto.nomeproduto)+" - "+(0,d.v_)(o.produto.nometipoproduto),1),(0,l.Lk)("td",null,(0,d.v_)(o.quantidade),1),(0,l.Lk)("td",null,(0,d.v_)(o.total),1)])))),128))])])]),0!==r.vendas.length?((0,l.uX)(),(0,l.CE)("div",Io,[0!==r.vendas.length?((0,l.uX)(),(0,l.CE)("div",wo,[(0,l.Lk)("div",xo,[Ao,(0,l.Lk)("div",Uo,[Oo,(0,l.Lk)("label",Qo,(0,d.v_)(r.totalImpostos),1)]),(0,l.Lk)("div",Fo,[jo,(0,l.Lk)("label",qo,(0,d.v_)(r.totalVendas),1)])])])):(0,l.Q3)("",!0),0!==r.vendas.length?((0,l.uX)(),(0,l.CE)("div",Do,[(0,l.Lk)("button",{class:"button btn btn-primary",style:{"margin-right":"5px"},type:"button",onClick:t[4]||(t[4]=o=>s.cancelarVenda())},"Cancelar Venda"),(0,l.Lk)("button",{class:"button btn btn-primary",onClick:t[5]||(t[5]=o=>s.salvarVenda())},"Finalizar Venda")])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])}e(4114);var No={name:"VendasVue",data(){return{produtos:[],produtoSelecionado:"",quantidadeInformada:0,valorItem:"",total:0,vendas:[],totalVendas:0,totalImpostos:0,salvoComSucesso:!1}},mounted(){this.listarProduto()},watch:{produtoSelecionado:{handler:function(){this.calcularTotal()},deep:!0},quantidadeInformada:function(){this.calcularTotal()},salvoComSucesso:function(){this.salvoComSucesso&&setTimeout((()=>{this.salvoComSucesso=!1}),3e3)}},methods:{calcularTotal(){const o=Number(this.produtoSelecionado.preco_venda)*Number(this.quantidadeInformada),t=o*this.produtoSelecionado.percentual_imposto/100,e=o+t*this.quantidadeInformada;this.total=e,this.valorItem=o,this.valorImposto=t},adicionarVenda:function(){this.vendas.push({produto:this.produtoSelecionado,quantidade:this.quantidadeInformada,total:this.total,total_imposto_item:this.totalImpostos}),this.totalVendas=this.vendas.reduce(((o,t)=>o+t.total),0),this.totalImpostos=this.vendas.reduce(((o,t)=>o+Number(t.produto.percentual_imposto)*Number(t.quantidade)*Number(t.produto.preco_venda)/100),0)},listarProduto(){J.A.get("http://localhost:8080/listarProdutosTipoProduto").then((o=>{this.produtos=o.data})).catch((o=>{console.log("Erro ao carregar dados do produto"+o)}))},cancelarVenda(){this.vendas=[],this.totalVendas=0,this.totalImpostos=0,this.produtoSelecionado="",this.quantidadeInformada=0,this.valorItem="",this.total=0,this.listarProduto()},async salvarVenda(){try{const o=await(0,J.A)({method:"post",url:"http://localhost:8080/salvarVenda",data:{vendas:this.vendas,totalVendaImposto:this.totalImpostos,totalValorVenda:this.totalVendas},headers:{"Content-Type":"application/json"}});console.log(o.data),this.salvoComSucesso=!0}catch(o){console.error(o)}}}};const Ko=(0,K.A)(No,[["render",Jo]]);var Bo=Ko,Mo={name:"DashBoard",components:{ListarProdutosVue:M,ProdutosVue:so,VendasVue:Bo},data(){return{activeTab:"inserir"}}};const zo=(0,K.A)(Mo,[["render",L],["__scopeId","data-v-13547764"]]);var $o=zo,Go={name:"App",components:{Dashboard:$o}};const Ho=(0,K.A)(Go,[["render",s]]);var Ro=Ho;(0,a.Ef)(Ro).mount("#app")}},t={};function e(a){var l=t[a];if(void 0!==l)return l.exports;var n=t[a]={exports:{}};return o[a].call(n.exports,n,n.exports,e),n.exports}e.m=o,function(){var o=[];e.O=function(t,a,l,n){if(!a){var r=1/0;for(u=0;u<o.length;u++){a=o[u][0],l=o[u][1],n=o[u][2];for(var s=!0,d=0;d<a.length;d++)(!1&n||r>=n)&&Object.keys(e.O).every((function(o){return e.O[o](a[d])}))?a.splice(d--,1):(s=!1,n<r&&(r=n));if(s){o.splice(u--,1);var i=l();void 0!==i&&(t=i)}}return t}n=n||0;for(var u=o.length;u>0&&o[u-1][2]>n;u--)o[u]=o[u-1];o[u]=[a,l,n]}}(),function(){e.n=function(o){var t=o&&o.__esModule?function(){return o["default"]}:function(){return o};return e.d(t,{a:t}),t}}(),function(){e.d=function(o,t){for(var a in t)e.o(t,a)&&!e.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:t[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){e.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)}}(),function(){e.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var o={524:0};e.O.j=function(t){return 0===o[t]};var t=function(t,a){var l,n,r=a[0],s=a[1],d=a[2],i=0;if(r.some((function(t){return 0!==o[t]}))){for(l in s)e.o(s,l)&&(e.m[l]=s[l]);if(d)var u=d(e)}for(t&&t(a);i<r.length;i++)n=r[i],e.o(o,n)&&o[n]&&o[n][0](),o[n]=0;return e.O(u)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=e.O(void 0,[504],(function(){return e(5143)}));a=e.O(a)})();
//# sourceMappingURL=app.bae3e66d.js.map